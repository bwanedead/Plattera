{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "PlatteraParcel",
    "type": "object",
    "required": ["parcel_id", "crs", "origin", "legs", "close"],
    "properties": {
      "parcel_id": { 
        "type": "string", 
        "description": "Unique id you assign (slug, UUID, etc.)" 
      },
  
      "crs": {
        "type": "string",
        "description": "Coordinate reference system for the origin",
        "enum": ["LOCAL", "EPSG:4326", "UTM", "PLSS"]
      },
  
      "origin": {
        "type": "object",
        "description": "Starting point for all legs",
        "required": ["type"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["latlon", "utm", "plss", "local"]
          },
  
          "lat":  { "type": "number" },
          "lon":  { "type": "number" },
  
          "zone": { "type": "integer", "minimum": 1, "maximum": 60 },
          "easting_m":  { "type": "number" },
          "northing_m": { "type": "number" },
  
          "t":       { "type": "integer", "description": "Township number" },
          "r":       { "type": "integer", "description": "Range number" },
          "section": { "type": "integer", "minimum": 1, "maximum": 36 },
          "corner":  { "type": "string", "enum": ["NW","NE","SW","SE"] },
  
          "offset_m":           { "type": "number" },
          "offset_bearing_deg": { "type": "number", "minimum": 0, "maximum": 360 },
  
          "note": { "type": "string" }
        }
      },
  
      "legs": {
        "type": "array",
        "minItems": 1,
        "items": {
          "type": "object",
          "required": ["bearing_deg", "distance_m"],
          "properties": {
            "bearing_deg":  { "type": "number", "minimum": 0, "maximum": 360 },
            "distance_m":   { "type": "number", "exclusiveMinimum": 0 },
            "distance_sigma_m": { "type": "number", "minimum": 0 },
            "raw_text":     { "type": "string" },
            "confidence":   { "type": "number", "minimum": 0, "maximum": 1 }
          }
        }
      },
  
      "close": { "type": "boolean" },
  
      "stated_area_ac": { "type": "number", "minimum": 0 },
  
      "source": { "type": "string" }
    },
  
    "additionalProperties": false
  }



  