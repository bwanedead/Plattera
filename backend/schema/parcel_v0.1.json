{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "PlatteraParcel",
    "type": "object",
    "required": ["parcel_id", "plss_description", "metes_and_bounds", "source"],
    "additionalProperties": false,
    "properties": {
      "parcel_id": { 
        "type": "string", 
        "description": "Unique parcel identifier" 
      },
  
      "plss_description": {
        "type": "object",
        "description": "Public Land Survey System location information",
        "required": ["state", "county", "principal_meridian", "township", "range", "section", "quarter_section", "starting_point", "stated_area_acres", "raw_text"],
        "additionalProperties": false,
        "properties": {
          "state": { 
            "type": "string", 
            "description": "State name (e.g., 'Wyoming')" 
          },
          "county": { 
            "type": "string", 
            "description": "County name (e.g., 'Albany County')" 
          },
          "principal_meridian": { 
            "type": "string", 
            "description": "Principal meridian (e.g., 'Sixth Principal Meridian')" 
          },
          "township": { 
            "type": "string", 
            "description": "Township exactly as written (e.g., 'Township Fourteen (14) North')" 
          },
          "range": { 
            "type": "string", 
            "description": "Range exactly as written (e.g., 'Range Seventy-five (75) West')" 
          },
          "section": { 
            "type": "string", 
            "description": "Section exactly as written (e.g., 'Section Two (2)')" 
          },
          "quarter_section": { 
            "type": ["string", "null"], 
            "description": "Quarter section exactly as written (e.g., 'Southwest Quarter of the Northwest Quarter')" 
          },
          "starting_point": {
            "type": "object",
            "required": ["description", "reference", "additional_reference", "lat", "lon", "raw_text"],
            "additionalProperties": false,
            "properties": {
              "description": { 
                "type": "string", 
                "description": "Starting point exactly as written" 
              },
              "reference": { 
                "type": ["string", "null"], 
                "description": "Primary reference (e.g., '50 feet S.21°30'E from center line of South Canal')" 
              },
              "additional_reference": { 
                "type": ["string", "null"], 
                "description": "Secondary reference (e.g., 'whence the Northwest corner bears N. 4°00'W., 1,638 feet distant')" 
              },
              "lat": { 
                "type": ["number", "null"], 
                "description": "Latitude only if stated in deed" 
              },
              "lon": { 
                "type": ["number", "null"], 
                "description": "Longitude only if stated in deed" 
              },
              "raw_text": { 
                "type": "string", 
                "description": "The full clause about POB from deed" 
              }
            }
          },
          "stated_area_acres": { 
            "type": ["number", "null"], 
            "description": "Area in acres only if given in deed" 
          },
          "raw_text": { 
            "type": "string", 
            "description": "All PLSS description text as in deed" 
          }
        }
      },
  
      "metes_and_bounds": {
        "type": "object",
        "description": "Property boundary course information",
        "required": ["boundary_courses", "closes_to_start", "raw_text"],
        "additionalProperties": false,
        "properties": {
          "boundary_courses": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "required": ["course", "bearing_degrees", "distance", "distance_units", "raw_text", "description", "confidence"],
              "additionalProperties": false,
              "properties": {
                "course": { 
                  "type": "string", 
                  "description": "Course exactly as written (e.g., 'N. 68°30'E.')" 
                },
                "bearing_degrees": { 
                  "type": ["number", "null"], 
                  "description": "DO NOT CONVERT - leave as null for LLM extraction" 
                },
                "distance": { 
                  "type": "number", 
                  "description": "Distance value as stated (extract only the number)" 
                },
                "distance_units": { 
                  "type": "string", 
                  "description": "Units exactly as written (e.g., 'feet')" 
                },
                "raw_text": { 
                  "type": "string", 
                  "description": "Exact leg text from deed" 
                },
                "description": { 
                  "type": ["string", "null"], 
                  "description": "Context exactly as written (e.g., 'parallel to and 50 feet distant from center line')" 
                },
                "confidence": { 
                  "type": ["number", "null"], 
                  "minimum": 0, 
                  "maximum": 1, 
                  "description": "Extraction confidence (0-1), optional" 
                }
              }
            }
          },
          "closes_to_start": { 
            "type": "boolean", 
            "description": "Whether description closes back to starting point" 
          },
          "raw_text": { 
            "type": "string", 
            "description": "Full legal boundary text from deed" 
          }
        }
      },
      "source": { 
        "type": ["string", "null"], 
        "description": "Deed reference/citation if stated" 
      }
    },
    "version": "parcel_v0.1"
}



  