/* --- Parcel Tracer Loader --- */
.parcel-tracer-loader {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 120px;
  height: 120px;
}

.parcel-tracer-loader svg {
  overflow: visible;
}

.tracer-group {
  transform-style: preserve-3d;
}

.tracer-edge-group {
  transform-origin: 0 0; /* Pivot from the start point */
  opacity: 0;
  transition: opacity 0.3s ease;
}

.tracer-edge-group.visible {
  opacity: 1;
}

.tracer-edge {
  stroke-width: 2.5;
  stroke-linecap: round;
  transition: stroke 0.4s ease, filter 0.4s ease;
  stroke: rgba(0, 169, 255, 0.4);
  filter: none;
}

.tracer-edge-group.animating .tracer-edge {
  stroke: var(--accent-primary);
  filter: drop-shadow(0 0 8px var(--accent-primary));
  animation: flow-in 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes flow-in {
  0% {
    stroke-dashoffset: var(--segment-length);
    /* Start wider for a bolder effect */
    stroke-width: 4;
    opacity: 0;
  }
  30% {
    /* Fade in quickly */
    opacity: 1;
  }
  80% {
     /* Taper to the final width */
    stroke-width: 2.5;
  }
  100% {
    stroke-dashoffset: 0;
    stroke-width: 2.5;
  }
}

.tracer-group.completed .tracer-edge {
  stroke: var(--accent-primary);
  filter: drop-shadow(0 0 8px var(--accent-primary));
  animation: completion-pulse 1.2s ease-in-out forwards;
}

@keyframes completion-pulse {
  0% {
    /* Starts at the bright, completed state */
    stroke-width: 2.5;
    stroke: var(--accent-primary);
    filter: drop-shadow(0 0 8px var(--accent-primary));
  }
  50% {
    /* Peak of the pulse */
    stroke-width: 3.5;
    filter: drop-shadow(0 0 12px var(--accent-primary));
  }
  100% {
    /* Ends at the dim, non-glowing resting state */
    stroke-width: 2.5;
    stroke: rgba(0, 169, 255, 0.4);
    filter: none;
  }
}

.tracer-group.fading-out {
  animation: fade-out-group 0.5s ease-in forwards;
}

@keyframes fade-out-group {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* --- Animated Border Component --- */
/* Reusable animated border that matches the ParcelTracerLoader aesthetic */

.animated-border-container {
  position: relative;
}

.border-tracer-group {
  transform-style: preserve-3d;
}

.border-tracer-edge {
  stroke-width: 2;
  stroke-linecap: round;
  stroke: rgba(0, 169, 255, 0.4);
  filter: none;
  opacity: 0;
  transition: opacity 0.2s ease;
  fill: none;
}

.border-tracer-edge.visible {
  opacity: 1;
}

.border-tracer-edge.animating {
  stroke: var(--border-color, var(--accent-primary));
  filter: drop-shadow(0 0 6px var(--border-color, var(--accent-primary)));
  animation: border-flow-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes border-flow-in {
  0% {
    stroke-dashoffset: var(--segment-length);
    stroke-width: 3;
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  80% {
    stroke-width: 2;
  }
  100% {
    stroke-dashoffset: 0;
    stroke-width: 2;
  }
}

.border-tracer-group.completed .border-tracer-edge {
  stroke: var(--border-color, var(--accent-primary));
  filter: drop-shadow(0 0 8px var(--border-color, var(--accent-primary)));
  animation: border-completion-pulse 1.2s ease-in-out forwards;
}

@keyframes border-completion-pulse {
  0% {
    stroke-width: 2;
    stroke: var(--border-color, var(--accent-primary));
    filter: drop-shadow(0 0 6px var(--border-color, var(--accent-primary)));
  }
  50% {
    stroke-width: 2.5;
    filter: drop-shadow(0 0 10px var(--border-color, var(--accent-primary)));
  }
  100% {
    stroke-width: 2;
    stroke: rgba(0, 169, 255, 0.4);
    filter: none;
  }
} 